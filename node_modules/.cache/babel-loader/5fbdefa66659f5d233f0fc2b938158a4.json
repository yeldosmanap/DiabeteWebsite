{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\den_prezent\\\\src\\\\components\\\\SignUp\\\\index.js\";\nimport React from 'react';\nimport { Container, FormButton, FormInput, FormWrap, Icon, FormContent, Form, FormH1, FormLabel, Text } from './SigninElements';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: \"\",\n      password: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const data = {};\n    data.login = this.state.login;\n    data.password = this.state.password; // // console.log(data);\n    //----------------------------\n\n    let res = await fetch('http://localhost:80/den_prezent/api/user/reg.php', {\n      method: 'POST',\n      contentType: 'application/json',\n      body: JSON.stringify(data)\n    });\n    res = await res.json();\n\n    if (res.email !== undefined) {\n      alert(\"Регистрация прошла успешно\");\n      localStorage.setItem(\"email\", res.email);\n      document.location.href = 'http://localhost:3000/'; // window.location.reload();\n    } else {\n      alert(\"При регистрации\t произошла ошибка. Попробуйте ещё раз.\");\n    }\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.type === 'file' ? target.files[0] : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(FormWrap, {\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          to: \"/\",\n          children: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(FormContent, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSubmit,\n            method: \"POST\",\n            children: [/*#__PURE__*/_jsxDEV(FormH1, {\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n              htmlFor: \"for\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n              type: \"email\",\n              name: \"login\",\n              onChange: this.handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n              htmlFor: \"for\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n              type: \"password\",\n              name: \"password\",\n              onChange: this.handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(FormButton, {\n              type: \"submit\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"sc-eGJWMs eSCVZV\",\n                href: \"/signin\",\n                offset: -80,\n                children: \"Already have account ?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 14\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default SignUp;","map":{"version":3,"sources":["C:/xampp/htdocs/den_prezent/src/components/SignUp/index.js"],"names":["React","Container","FormButton","FormInput","FormWrap","Icon","FormContent","Form","FormH1","FormLabel","Text","SignUp","Component","constructor","props","state","login","password","handleSubmit","bind","handleInputChange","event","preventDefault","data","res","fetch","method","contentType","body","JSON","stringify","json","email","undefined","alert","localStorage","setItem","document","location","href","target","value","type","files","name","setState","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {\r\n\tContainer,\r\n\tFormButton,\r\n\tFormInput,\r\n\tFormWrap,\r\n\tIcon,\r\n\tFormContent,\r\n\tForm,\r\n\tFormH1,\r\n\tFormLabel,\r\n\tText\r\n} from './SigninElements'\r\n\r\n\r\nclass SignUp extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlogin: \"\",\r\n\t\t\tpassword: \"\"\r\n\t\t}\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t}\r\n\r\n\r\n\tasync handleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconst data = {};\r\n\t\tdata.login = this.state.login;\r\n\t\tdata.password = this.state.password;\r\n\t\t// // console.log(data);\r\n\t\t//----------------------------\r\n\t\tlet res = await fetch('http://localhost:80/den_prezent/api/user/reg.php', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tcontentType: 'application/json',\r\n\t\t\tbody: JSON.stringify(data)\r\n\t\t});\r\n\t\tres = await res.json();\r\n\r\n\t\tif (res.email !== undefined) {\r\n\t\t\talert(\"Регистрация прошла успешно\");\r\n\t\t\tlocalStorage.setItem(\"email\", res.email);\r\n\t\t\tdocument.location.href = 'http://localhost:3000/'\r\n\t\t\t// window.location.reload();\r\n\t\t}\r\n\t\telse {\r\n\t\t\talert(\"При регистрации\t произошла ошибка. Попробуйте ещё раз.\");\r\n\t\t}\r\n\t}\r\n\r\n\r\n\thandleInputChange(event) {\r\n\t\tconst target = event.target;\r\n\t\tconst value = target.type === 'file' ? target.files[0] : target.value;\r\n\t\tconst name = target.name;\r\n\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<FormWrap>\r\n\t\t\t\t\t<Icon to=\"/\">logo</Icon>\r\n\t\t\t\t\t<FormContent>\r\n\t\t\t\t\t\t<Form onSubmit={this.handleSubmit} method=\"POST\">\r\n\t\t\t\t\t\t\t<FormH1>Sign Up</FormH1>\r\n\t\t\t\t\t\t\t<FormLabel htmlFor=\"for\">Email</FormLabel>\r\n\t\t\t\t\t\t\t<FormInput type=\"email\" name=\"login\" onChange={this.handleInputChange} required />\r\n\t\t\t\t\t\t\t<FormLabel htmlFor='for'>Password</FormLabel>\r\n\t\t\t\t\t\t\t<FormInput type=\"password\" name=\"password\" onChange={this.handleInputChange} required />\r\n\t\t\t\t\t\t\t<FormButton type=\"submit\">Sign Up</FormButton>\r\n\t\t\t\t\t\t\t<Text><a className=\"sc-eGJWMs eSCVZV\" href=\"/signin\" offset={-80}>Already have account ?</a></Text>\r\n\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</FormContent>\r\n\t\t\t\t</FormWrap>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default SignUp\r\n"]},"metadata":{},"sourceType":"module"}